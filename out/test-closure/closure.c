/* 
  This file was generated by KaRaMeL <https://github.com/FStarLang/karamel>

  F* version: <unknown>

 */

#include "closure.h"

/**
This function found in impl {core::ops::function::FnMut<(usize), usize> for closure::f::closure::closure<0, 1>}
*/
size_t closure_f_closure_call_mut_8a(closure_f_closure_closure *_, size_t tupled_args)
{
  size_t j = tupled_args;
  return _->fst->data[0U] + _->snd[0U] + j;
}

/**
This function found in impl {core::ops::function::FnOnce<(usize), usize> for closure::f::closure::closure<0, 1>}
*/
size_t closure_f_closure_call_once_b7(closure_f_closure_closure _, size_t _0)
{
  return closure_f_closure_call_mut_8a(&_, _0);
}

/**
This function found in impl {core::ops::function::FnMut<(usize), @Array<usize, 1usize>> for closure::f::closure<0>}
*/
Eurydice_arr_e4 closure_f_call_mut_59(const Eurydice_arr_e4 **_, size_t tupled_args)
{
  size_t i0 = tupled_args;
  Eurydice_arr_e4 arr_struct;
  {
    /* original Rust expression is not an lvalue in C */
    closure_f_closure_closure lvalue = { .fst = _[0U], .snd = &i0 };
    arr_struct.data[0U] = closure_f_closure_call_mut_8a(&lvalue, (size_t)0U);
  }
  return arr_struct;
}

/**
This function found in impl {core::ops::function::FnOnce<(usize), @Array<usize, 1usize>> for closure::f::closure<0>}
*/
Eurydice_arr_e4 closure_f_call_once_71(const Eurydice_arr_e4 *_, size_t _0)
{
  return closure_f_call_mut_59(&_, _0);
}

Eurydice_arr_81 closure_f(void)
{
  Eurydice_arr_e4 s = { .data = { 0U } };
  Eurydice_arr_81 arr_struct;
  {
    /* original Rust expression is not an lvalue in C */
    const Eurydice_arr_e4 *lvalue = &s;
    arr_struct.data[0U] = closure_f_call_mut_59(&lvalue, (size_t)0U);
  }
  Eurydice_arr_81 a = arr_struct;
  return a;
}

typedef struct const_size_t__x2_s
{
  const size_t *fst;
  const size_t *snd;
}
const_size_t__x2;

void closure_main(void)
{
  /* original Rust expression is not an lvalue in C */
  Eurydice_arr_81 lvalue = closure_f();
  size_t actual = lvalue.data->data[0U];
  size_t expected = (size_t)0U;
  const_size_t__x2 uu____0 = { .fst = &actual, .snd = &expected };
  EURYDICE_ASSERT(uu____0.fst[0U] == uu____0.snd[0U], "panic!");
}

