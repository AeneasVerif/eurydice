/* 
  This file was generated by KaRaMeL <https://github.com/FStarLang/karamel>

  F* version: <unknown>

 */

#include "fn_higher_order.h"

int32_t fn_higher_order_empty_ptr(int32_t (*f)(void))
{
  return f();
}

int32_t fn_higher_order_more_sum_lst(int32_t *l)
{
  int32_t sum = (int32_t)0;
  KRML_MAYBE_FOR3(i,
    (size_t)0U,
    (size_t)3U,
    (size_t)1U,
    size_t i0 = i;
    sum = sum + l[i0];);
  return sum;
}

/**
A monomorphic instance of fn_higher_order.compose_cg_apply
with types size_t, size_t, size_t
with const generics
- N= 5
*/
size_t
fn_higher_order_compose_cg_apply_73(
  size_t (*f)(size_t *x0),
  size_t (*g)(size_t x0),
  size_t *arg
)
{
  size_t (*uu____0)(size_t x0) = g;
  return uu____0(f(arg));
}

/**
A monomorphic instance of fn_higher_order.sum_lst
with const generics
- N= 5
*/
size_t fn_higher_order_sum_lst_62(size_t *lst)
{
  size_t sum = (size_t)0U;
  KRML_MAYBE_FOR5(i,
    (size_t)0U,
    (size_t)5U,
    (size_t)1U,
    size_t i0 = i;
    sum = sum + lst[i0];);
  return sum + (size_t)5U;
}

/**
A monomorphic instance of fn_higher_order.id
with types size_t

*/
size_t fn_higher_order_id_da(size_t r)
{
  return r;
}

/**
A monomorphic instance of fn_higher_order.compose_cg_apply
with types int32_t, int32_t, int32_t
with const generics
- N= 3
*/
int32_t
fn_higher_order_compose_cg_apply_ce(
  int32_t (*f)(int32_t *x0),
  int32_t (*g)(int32_t x0),
  int32_t *arg
)
{
  int32_t (*uu____0)(int32_t x0) = g;
  return uu____0(f(arg));
}

/**
A monomorphic instance of fn_higher_order.id
with types int32_t

*/
int32_t fn_higher_order_id_a8(int32_t r)
{
  return r;
}

typedef struct _size_t__x2_s
{
  size_t *fst;
  size_t *snd;
}
_size_t__x2;

typedef struct _int32_t__x2_s
{
  int32_t *fst;
  int32_t *snd;
}
_int32_t__x2;

void fn_higher_order_use_compose_cg(void)
{
  size_t buf0[5U] = { (size_t)1U, (size_t)2U, (size_t)3U, (size_t)4U, (size_t)5U };
  size_t
  x =
    fn_higher_order_compose_cg_apply_73(fn_higher_order_sum_lst_62,
      fn_higher_order_id_da,
      buf0);
  int32_t buf[3U] = { (int32_t)10, (int32_t)11, (int32_t)12 };
  int32_t
  y =
    fn_higher_order_compose_cg_apply_ce(fn_higher_order_more_sum_lst,
      fn_higher_order_id_a8,
      buf);
  /* original Rust expression is not an lvalue in C */
  size_t lvalue = (size_t)20U;
  _size_t__x2 uu____0 = { .fst = &x, .snd = &lvalue };
  size_t *left_val0 = uu____0.fst;
  size_t *right_val0 = uu____0.snd;
  EURYDICE_ASSERT(left_val0[0U] == right_val0[0U], "panic!");
  /* original Rust expression is not an lvalue in C */
  int32_t lvalue0 = (int32_t)33;
  _int32_t__x2 uu____1 = { .fst = &y, .snd = &lvalue0 };
  int32_t *left_val = uu____1.fst;
  int32_t *right_val = uu____1.snd;
  EURYDICE_ASSERT(left_val[0U] == right_val[0U], "panic!");
}

void fn_higher_order_main(void)
{
  fn_higher_order_use_compose_cg();
}

void fn_higher_order_unit_empty_ptr(void (*f)(void))
{
  f();
}

